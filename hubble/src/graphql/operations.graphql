
mutation InsertBlock($object: v0_blocks_insert_input!) {
  insert_v0_blocks_one(object: $object) {
    id
  }
}

query GetLatestBlock($chain_id: String!) {
  v0_blocks(where: {chain: {chain_id: {_eq: $chain_id}}}, order_by: {height: desc_nulls_last}) {
    height
  }
  v0_chains(where: {chain_id: {_eq: $chain_id}}) {
    id
  }
}

mutation InsertChain($chain_id: String!) {
  insert_v0_chains_one(object: {chain_id: $chain_id, name: $chain_id}) {
    id
  }
}

mutation InsertBlocksMany($objects: [v0_blocks_insert_input!]!) {
  insert_v0_blocks(objects: $objects) {
    affected_rows
  }
}

mutation InsertDemoTx($data: jsonb!) {
  insert_demo_txes_one(object: {data: $data}) {
    id
  }
}

mutation InsertDemoQueue($item: jsonb!) {
  insert_demo_queue_one(object: {item: $item}) {
    id
  }
}

query GetLatestQueue {
  demo_queue(limit: 1, order_by: {id: desc}) {
    item
    id
    created_at
    updated_at
  }
}
<!-- @migration-task Error while migrating Svelte code: Attribute values containing `{...}` must be enclosed in quote marks, unless the value only contains the expression -->
<!-- @migration-task Error while migrating Svelte code: Attribute values containing `{...}` must be enclosed in quote marks, unless the value only contains the expression -->
<!-- @migration-task Error while migrating Svelte code: Attribute values containing `{...}` must be enclosed in quote marks, unless the value only contains the expression -->
<script lang="ts"> 
  import Square from './spinning-logo/square.svelte';
	let cubeWidth = 64;
	let cubeCount = 12;
	let gap = 64;
	let logoWidth= cubeWidth * cubeCount + gap * (cubeCount - 1);
	let cubesY = cubeWidth * 2 + gap;
	let cubeDelta = $derived((20 - cubeWidth) / 2);
	let strokeWidth = 4;
</script>


<div class="overflow-hidden max-size-full flex-1">
  <div class="logo-scene max-size-full overflow-hidden size-full">
    <div class="logo absolute" style={`left: calc(50% - (${logoWidth}px / 2)); top: calc(50% - (${cubeWidth}px / 2)); width: ${logoWidth}px; height: ${cubeWidth}px`};}>
      {#each {length: cubeCount} as _, i}
        <Square {strokeWidth} size={cubeWidth} x={(cubeWidth + gap) * i} y={0}/>
      {/each}
    </div>
  </div>
</div>

<style lang="postcss">

@keyframes spinning-logo {
  0% {transform: rotateY(0deg) translateX(0);}
  10% {transform: rotateY(90deg) translateX(200px);}
  30% {transform: rotateY(90deg) translateX(-1000px);}
  60% {transform: rotateY(90deg) translateX(200);}
  80% {transform: rotateY(360deg);}
  100% {transform: rotateY(0deg);}
}

@keyframes sliding-logo {
  0% {transform: translateX(800px);}
  40% {transform: translateX(-800px);}
  50% {transform: rotateY(-90deg) translateX(-1000px); }
  100% {transform: rotateY(-90deg) translateX(1200px);}
}


.logo-scene {
  perspective: 500px;
  position: relative;
}

.logo {
  animation: sliding-logo 8s linear 0s infinite alternate;
  position: absolute;
  transform-style: preserve-3d;
}
</style>

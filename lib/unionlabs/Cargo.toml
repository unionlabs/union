[package]
include = ["README.md"]
name    = "unionlabs"
version = "0.0.0"

authors      = { workspace = true }
edition      = { workspace = true }
license-file = { workspace = true }
publish      = { workspace = true }
repository   = { workspace = true }

[lints]
workspace = true

[dependencies]
bcs                  = { workspace = true }
bincode              = { workspace = true, features = ["alloc", "derive"], optional = true }
borsh                = { workspace = true, features = ["borsh-derive"], optional = true }
bs58                 = { workspace = true }
chrono               = { workspace = true, features = ["alloc"] }
cosmwasm-std         = { workspace = true, optional = true, features = ["std"] }
derive_more          = { workspace = true, features = ["display"] }
macros               = { workspace = true }
prost                = { workspace = true, features = ["std"] }
protos               = { workspace = true, features = ["proto_full", "serde"] }
schemars             = { workspace = true, features = ["derive"], optional = true }
serde                = { workspace = true, features = ["derive"] }
serde-utils          = { workspace = true }
serde_json           = { workspace = true, optional = true }
sha2                 = { workspace = true }
sha3                 = { workspace = true }
solidity-slot        = { workspace = true }
static_assertions    = { workspace = true }
thiserror            = { workspace = true }
typenum              = { workspace = true, features = ["const-generics", "no_std"] }
unionlabs-encoding   = { workspace = true, features = ["proto", "json"] }
unionlabs-primitives = { workspace = true, features = ["generic-array-compat", "serde", "base64", "base58"] }

[dev-dependencies]
hex-literal = { workspace = true }
rand        = "0.8.5"
serde_json  = { workspace = true }

[features]
default = ["ethabi", "std", "proto"]

cosmwasm = ["dep:cosmwasm-std"]
ethabi = [
  "unionlabs-primitives/alloy-primitives-compat",
  "unionlabs-primitives/alloy-sol-types-compat",
  "unionlabs-encoding/ethabi",
]
std = ["sha2/std", "unionlabs-encoding/std"]

fuzzing    = []
test-utils = ["dep:serde_json"]

bcs      = ["unionlabs-encoding/bcs"]
bincode  = ["dep:bincode", "unionlabs-primitives/bincode", "unionlabs-encoding/bincode"]
proto    = ["unionlabs-encoding/proto"]
rlp      = ["unionlabs-primitives/rlp"]
schemars = ["dep:schemars", "unionlabs-primitives/schemars"]
ssz      = ["unionlabs-encoding/ssz"]
